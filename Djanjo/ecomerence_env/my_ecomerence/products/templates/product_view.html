{% extends "base.html" %}
{% load static %}
{% block title %}{{fetch_product.name}}Product View {% endblock %}

{% block body %}
<div class="max-w-4xl mx-auto bg-white p-4 md:p-8 rounded-md shadow-md flex flex-col md:flex-row items-center justify-center margin-top:p-8" style="margin-top: 25px;">
    <!-- Left Side: Smaller Images -->
    <div class="flex flex-wrap justify-center md:justify-start mb-4 md:mb-0 md:mr-8" style="margin-right: 0.5rem margin-top">
        <!-- Four smaller images at different angles -->
        <img src="{{image_url.0}}" id="img1" alt="Angle 1" class="mb-2 md:mr-2 rounded small-image h-14">
        <img src="{{image_url.1}}" id="img2"  alt="Angle 2" class="mb-2 md:mr-2 rounded small-image h-14">
        <img src="{{image_url.2}}" id="img3" alt="Angle 3" class="mb-2 md:mr-2 rounded small-image h-14">
        <img src="img"  id="img4" alt="Angle 4" class="mb-2 md:mr-2 rounded small-image h-14">
    </div>
    <!-- Main Image in the Center -->
    <div class="flex items-center justify-center mb-4 md:mb-0">
        <img src="{{image_url.0}}" id="main" alt="Main Product Image" class="rounded main-image h-64">
    </div>
    <!-- Right Side: Description -->
    <div class="flex flex-col justify-center ml-4 md:ml-8">
        <h2 class="text-lg md:text-xl font-semibold mb-2" id="name">{{fetch_product.name}}</h2>
        <!-- Product Rating -->
        <div class="flex items-center mb-2 md:mb-4">
            <span class="text-yellow-500">★</span>
            <span class="text-yellow-500">★</span>
            <span class="text-yellow-500">★</span>
            <span class="text-yellow-500">☆</span>
            <span class="text-yellow-500">☆</span>
            <span class="ml-2 text-sm md:text-base text-gray-500">5 Reviews</span>
        </div>
        <!-- Product Price -->
        <div class="flex items-center mb-2 md:mb-4">
            <span class="text-lg md:text-xl font-semibold mr-2" id="price">Rs: {{fetch_product.price}}</span>
        </div>
        
        <p class="text-gray-600 mb-4" id="desc">{{fetch_product.description}}Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla quam velit, vulputate eu pharetra nec, mattis ac neque.</p>

        <hr>

        <!-- Buy Now Button -->
        <button class="bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600" id="single_item">Buy Now</button>
         <!-- <div class="d-grid gap-2">
          <button class="btn btn-primary cart" id="{{fetch_product.id}}">{{fetch_product.id}} Add to cart</button>
        </div> -->
    </div>
</div>
{%endblock %}



{% block js%}
<script>
$("#img1").click(function () {
    console.log("img1 clicked");
    img1_url=document.getElementById("img1").src
    document.getElementById("main").src=img1_url 
})

$("#img2").click(function () {
    img2_url=document.getElementById("img2").src
    document.getElementById("main").src=img2_url   
})

$("#img3").click(function () {
    img3_url=document.getElementById("img3").src
    document.getElementById("main").src=img3_url
})
</script>
<script>
$("#single_item").click(function() {
    console.log("button clicked");
    // cart=JSON.parse(localStorage.getItem("cart"))
    // console.log(cart);
    name=document.getElementById("name").innerHTML
    console.log(name);
    price=document.getElementById("price").innerHTML
    console.log(price);
    img=document.getElementById("main").src
    console.log(img);
    desc=document.getElementById("desc").innerHTML
    console.log(desc);
    
})
</script>

{% endblock %}